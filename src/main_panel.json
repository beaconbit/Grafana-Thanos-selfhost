{
  "dashboard": {
    "id": null,
    "uid": "laundry-metrics",
    "title": "Laundry Processing Metrics",
    "tags": ["laundry", "prometheus", "thanos"],
    "timezone": "browser",
    "schemaVersion": 27,
    "version": 1
  },
      "panels": [
      {
        "type": "row",
        "title": "row 1",
        "collapsed": true,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
        "panels": [
	  {
            "type": "stat",
            "title": "Washed (This Week)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[7d]) + increase(washer_1{machine='washer_2'}[7d])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 0, "y": 0, "w": 4, "h": 4}
          },
	  {
            "type": "stat",
            "title": "Washed (Today)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[12h]) + increase(washer_1{machine='washer_2'}[12h])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 0, "y": 4, "w": 4, "h": 4}
          },
	  {
            "type": "gauge",
            "title": "Washed (This Week)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[7d]) + increase(washer_1{machine='washer_2'}[7d])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 4, "y": 10, "w": 5, "h": 6}
          },
	  {
            "type": "gauge",
            "title": "Washed (Today)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[12h]) + increase(washer_1{machine='washer_2'}[12h])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 9, "y": 10, "w": 5, "h": 6}
          },
	  {
            "type": "stat",
            "title": "Capacity (This Week)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[7d]) + increase(washer_1{machine='washer_2'}[7d]) + increase(washer_1{machine='ironer_1'}[7d]) + increase(washer_1{machine='ironer_2'}[7d]) + increase(washer_1{machine='small_piece_folder_1'}[7d]) + increase(washer_1{machine='small_piece_folder_2'}[7d]) + increase(washer_1{machine='small_piece_folder_3'}[7d])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 0, "y": 8, "w": 4, "h": 4}
          },
	  {
            "type": "stat",
            "title": "Capacity (Today)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[12h]) + increase(washer_1{machine='washer_2'}[12h]) + increase(washer_1{machine='ironer_1'}[12h]) + increase(washer_1{machine='ironer_2'}[12h]) + increase(washer_1{machine='small_piece_folder_1'}[12h]) + increase(washer_1{machine='small_piece_folder_2'}[12h]) + increase(washer_1{machine='small_piece_folder_3'}[12h])",
              "format": "time_series"
            }],
            "gridPos": {"x": 0, "y": 12, "w": 4, "h": 4}
          },
	  {
            "type": "gauge",
            "title": "Capacity (This Week)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[7d]) + increase(washer_1{machine='washer_2'}[7d]) + increase(washer_1{machine='ironer_1'}[7d]) + increase(washer_1{machine='ironer_2'}[7d]) + increase(washer_1{machine='small_piece_folder_1'}[7d]) + increase(washer_1{machine='small_piece_folder_2'}[7d]) + increase(washer_1{machine='small_piece_folder_3'}[7d])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 14, "y": 10, "w": 5, "h": 6}
          },
	  {
            "type": "gauge",
            "title": "Capacity (Today)",
            "targets": [{
              "expr": "increase(washer_1{machine='washer_1'}[12h]) + increase(washer_1{machine='washer_2'}[12h]) + increase(washer_1{machine='ironer_1'}[12h]) + increase(washer_1{machine='ironer_2'}[12h]) + increase(washer_1{machine='small_piece_folder_1'}[12h]) + increase(washer_1{machine='small_piece_folder_2'}[12h]) + increase(washer_1{machine='small_piece_folder_3'}[12h])",
              "format": "time_series"
            }],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 19, "y": 10, "w": 5, "h": 6}
          },
	  {
            "type": "gauge",
            "title": "Today",
            "targets": [
              {"expr": "increase(washer_1{machine='washer_1'}[12h])", "legendFormat": "Washer 1"},
              {"expr": "increase(washer_1{machine='washer_2'}[12h])", "legendFormat": "Washer 2"},
              {"expr": "increase(washer_1{machine='ironer_1'}[12h])", "legendFormat": "Ironer 1"},
              {"expr": "increase(washer_1{machine='ironer_2'}[12h])", "legendFormat": "Ironer 2"},
              {"expr": "increase(washer_1{machine='small_piece_folder_1'}[12h])", "legendFormat": "Folder 1"},
              {"expr": "increase(washer_1{machine='small_piece_folder_2'}[12h])", "legendFormat": "Folder 2"},
              {"expr": "increase(washer_1{machine='small_piece_folder_3'}[12h])", "legendFormat": "Folder 3"}
            ],
            "thresholds": [
              {
                "value": 50,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 50,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ],
            "gridPos": {"x": 4, "y": 0, "w": 20, "h": 10}
          }
	]
      },
      {
	"type": "row", 
	"title": "row 2",
	"collapsed": true,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
	"panels":[
             {
               "type": "histogram",
               "title": "Washer 1",
               "targets": [
                 {"expr": "washer_1{machine='washer_1'}", "legendFormat": "Washer 1"}
               ],
               "gridPos": {"x": 0, "y": 0, "w": 4, "h": 4}
             },
             {
               "type": "histogram",
               "title": "Washer 2",
               "targets": [
                 {"expr": "washer_1{machine='washer_2'}", "legendFormat": "Washer 1"}
               ],
               "gridPos": {"x": 0, "y": 4, "w": 4, "h": 4}
             },
             {
               "type": "histogram",
               "title": "Ironer 1",
               "targets": [
                 {"expr": "washer_1{machine='ironer_1'}", "legendFormat": "Washer 1"}
               ],
               "gridPos": {"x": 0, "y": 8, "w": 4, "h": 4}
             },
             {
               "type": "histogram",
               "title": "Ironer 2",
               "targets": [
                 {"expr": "washer_1{machine='ironer_2'}", "legendFormat": "Washer 1"}
               ],
               "gridPos": {"x": 0, "y": 12, "w": 4, "h": 4}
             },
             {
               "type": "heatmap",
               "title": "Productivity",
               "transparent": true,
               "targets": [
                 {"expr": "rate(washer_1{machine='washer_1'}[15m])", "legendFormat": "Washer 1"},
                 {"expr": "rate(washer_1{machine='washer_2'}[15m])", "legendFormat": "Washer 2"},
                 {"expr": "rate(washer_1{machine='ironer_1'}[15m])", "legendFormat": "Ironer 1"},
                 {"expr": "rate(washer_1{machine='ironer_2'}[15m])", "legendFormat": "Ironer 2"},
                 {"expr": "rate(washer_1{machine='small_piece_folder_1'}[15m])", "legendFormat": "Folder 1"},
                 {"expr": "rate(washer_1{machine='small_piece_folder_2'}[15m])", "legendFormat": "Folder 2"},
                 {"expr": "rate(washer_1{machine='small_piece_folder_3'}[15m])", "legendFormat": "Folder 3"}
               ],
               "editorMode": "code",
               "instant": false,
               "range": true,
               "interval": "",
               "fieldConfig": {
                 "defaults": {
                   "custom": {
                     "scaleDistribution": {
                       "type": "exponential",
                       "exponent": 0.5
                     },
                     "hideFrom": {
                       "tooltip": false,
                       "viz": false,
                       "legend": false
                     }
                   }
                 }
               },
               "options": {
                 "color": {
                   "mode": "scheme",
                   "scheme": "RdYlGn",
                   "steps": 19,
                   "reverse": true
                 },
                 "cellGap": 0,
                 "filterValues": {
                   "le": 1e-9
                 },
                 "tooltip": {
                   "mode": "single",
                   "yHistogram": true,
                   "showColorScale": true
                 },
                 "legend": {
                   "show": true
                 }
               },
               "gridPos": {"x": 4, "y": 0, "w": 20, "h": 10}
             },
             {
               "type": "graph",
               "title": "Washers",
               "targets": [
                 {"expr": "rate(washer_1{machine='washer_1'}[15m])", "legendFormat": "Washer 1"},
                 {"expr": "rate(washer_1{machine='washer_2'}[15m])", "legendFormat": "Washer 2"}
               ],
               "lines": true,               
               "fill": 1,                  
               "points": false, 
               "gridPos": {"x": 4, "y": 10, "w": 5, "h": 6}
             },
             {
               "type": "graph",
               "title": "Ironers",
               "targets": [
                 {"expr": "rate(washer_1{machine='ironer_1'}[15m])", "legendFormat": "Ironer 1"},
                 {"expr": "rate(washer_1{machine='ironer_2'}[15m])", "legendFormat": "Ironer 2"}
               ],
               "lines": true,               
               "fill": 1,                  
               "points": false, 
               "gridPos": {"x": 9, "y": 10, "w": 5, "h": 6}
             },
             {
               "type": "graph",
               "title": "Washers",
               "targets": [
                 {"expr": "increase(washer_1{machine='washer_1'}[1m])", "legendFormat": "Washer 1"},
                 {"expr": "increase(washer_1{machine='washer_2'}[1m])", "legendFormat": "Washer 2"}
               ],
               "lines": false,               
               "fill": 0,                  
               "points": true, 
               "gridPos": {"x": 14, "y": 10, "w": 5, "h": 6}
             },
             {
               "type": "graph",
               "title": "Ironers",
               "targets": [
                 {"expr": "increase(washer_1{machine='ironer_1'}[1m])", "legendFormat": "Ironer 1"},
                 {"expr": "increase(washer_1{machine='ironer_2'}[1m])", "legendFormat": "Ironer 2"}
               ],
               "lines": false,               
               "fill": 0,                  
               "points": true, 
               "gridPos": {"x": 19, "y": 10, "w": 5, "h": 6}
             }
	]
      },
      {
        "type": "row",
        "title": "row 3",
        "collapsed": true,
        "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
	"panels": [
          {
            "type": "graph",
            "title": "Processing Rate (PPM) Over Time",
            "targets": [
              {"expr": "rate(washer_1{machine='washer_1'}[10m])", "legendFormat": "Washer 1"},
              {"expr": "rate(washer_1{machine='washer_2'}[10m])", "legendFormat": "Washer 2"},
              {"expr": "rate(washer_1{machine='ironer_1'}[10m])", "legendFormat": "Ironer 1"},
              {"expr": "rate(washer_1{machine='ironer_2'}[10m])", "legendFormat": "Ironer 2"},
              {"expr": "rate(washer_1{machine='small_piece_folder_1'}[10m])", "legendFormat": "Folder 1"},
              {"expr": "rate(washer_1{machine='small_piece_folder_2'}[10m])", "legendFormat": "Folder 2"},
              {"expr": "rate(washer_1{machine='small_piece_folder_3'}[10m])", "legendFormat": "Folder 3"}
            ],
            "gridPos": {"x": 0, "y": 0, "w": 24, "h": 10},
            "lines": true,               
            "fill": 0,                  
            "points": false, 
            "thresholds": [
              {
                "value": 0.1,                         
                "color": "rgb(0, 255, 0)",           
                "op": "gt",                          
                "fill": true                         
              },
              {
                "value": 0.1,                          
                "color": "rgb(255, 0, 0)",         
                "op": "lt",
                "fill": true
              }
            ]
          },
          {
            "type": "bargauge",
            "title": "Total Pieces Processed Per Machine Today",
            "targets": [
              {"expr": "increase(washer_1{machine='washer_1'}[12h])", "legendFormat": "Washer 1"},
              {"expr": "increase(washer_1{machine='washer_2'}[12h])", "legendFormat": "Washer 2"},
              {"expr": "increase(washer_1{machine='ironer_1'}[12h])", "legendFormat": "Ironer 1"},
              {"expr": "increase(washer_1{machine='ironer_2'}[12h])", "legendFormat": "Ironer 2"},
              {"expr": "increase(washer_1{machine='small_piece_folder_1'}[12h])", "legendFormat": "Folder 1"},
              {"expr": "increase(washer_1{machine='small_piece_folder_2'}[12h])", "legendFormat": "Folder 2"},
              {"expr": "increase(washer_1{machine='small_piece_folder_3'}[12h])", "legendFormat": "Folder 3"}
            ],
            "gridPos": {"x": 0, "y": 4, "w": 12, "h": 4}
          },
          {
            "type": "heatmap",
            "title": "Processing Heatmap (Hourly)",
            "targets": [{
              "expr": "rate(washer_1{machine='washer_1'}[1h]) + rate(washer_1{machine='washer_2'}[1h]) + rate(washer_1{machine='ironer_1'}[1h]) + rate(washer_1{machine='ironer_2'}[1h]) + rate(washer_1{machine='small_piece_folder_1'}[1h]) + rate(washer_1{machine='small_piece_folder_2'}[1h]) + rate(washer_1{machine='small_piece_folder_3'}[1h])",
              "legendFormat": "Total PPH"
            }],
            "gridPos": {"x": 12, "y": 4, "w": 12, "h": 4}
          }
	]
      }
      ]
}
